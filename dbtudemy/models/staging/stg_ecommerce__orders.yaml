models:
  - name: stg_ecommerce__orders
    description: >
      Orders received on ecommerce site.
      Table of 1 row per order.
    columns:
      - name: order_id
        description: "Unique primary key for an order"
        tests:
          - not_null
          - unique

      - name: user_id
        description: "ID number of user who placed the order"
        tests:
          - not_null

      - name: order_status
        description: "{{ doc('stg_ecommerce__orders___status') }}"
        tests:
          - not_null
          - accepted_values:
              name: unexpected_order_status
              values:
                - Processing
                - Cancelled
                - Shipped
                - Complete
                - Returned

      - name: created_at
        description: "When the order was created"
        tests:
          - not_null # Other tests include not in the future, 

      - name: shipped_at
        description: "When the order was shipped"
        #tests: # Other tests include not in the future, not before created_at

      - name: delivered_at
        description: "When the order was delivered"
        #tests: # Other tests include not in the future, not before shipped_at

      - name: returned_at
        description: "If returned, when the order was returned"
        #tests: # Other tests include not in the future, not before delivered_at

      - name: num_of_item
        description: "Number of items order relating to the order"
        tests:
          - not_null # Other tests include is greater than 0

